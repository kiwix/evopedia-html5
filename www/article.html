<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Placeholder for injecting an article into the iframe</title>
        <script>
            window.addEventListener('message', function(e) {
                var html = e.data.html;
                //html = html.replace(/(<head\b[^>]*>\s*)/, '$1<base href="' + e.data.baseHref + '">');
                document.baseURI = e.data.baseHref;
                var article = document.getElementById('article');
                // if (oldArticle) oldArticle.parentNode.removeChild(oldArticle);
                // var article = document.createElement('iframe');
                // article.frameBorder = 0;
                // article.id = 'article';
                // article.width = '100%';
                // article.height = '100%';
                // article.srcdoc = e.data;
                // document.body.appendChild(article);
                var shadow = article.attachShadow({mode: 'open'});
                shadow.innerHTML = html;
            });
        </script>
    </head>
    <body>
        <article id="article"></article>
    </body>
</html>